check {
  check1.sh
}

run {
  exec { run2.sh arg1 ${KEY2}}
  consumes {
    run1-product1.txt
    run1-product2.txt
  }
  produces {
    run2-product1.txt
    run2-product2.txt
  }
}

if { eq { ${KEY1} VAL1 }
  run {
    exec { run1.sh arg1 ${KEY2}}
    produces {
      run1-product1.txt
      run1-product2.txt
    }
  }
}